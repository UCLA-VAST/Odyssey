
minimize target:
max(
	((i_t1/i_t2) * (i_t2*k_t1/p9) + 1),
	(i_t1/i_t2) * (i_t2*k_t1/min(p9, 512/8/4)),
	((j_t1/j_t2) * (j_t2*k_t1/p10) + 1),
	(j_t1/j_t2) * (j_t2*k_t1/min(p10, 512/8/4))
) + 
max(
	(i_t1/i_t2) * (i_t2*j_t2/p12),
	(j_t1/j_t2) * (i_t1/i_t2) * (i_t2*j_t2/p12),
	(j_t1/j_t2) * (i_t1/i_t2) * (i_t2*j_t2/min(p12, 512/8/4))
) + 
max(
	((i/i_t1)) * ((j/j_t1)) * ((k/k_t1)) * (max((i_t1/i_t2) * (i_t2*k_t1/p9), (k_t1/k_t2) * j_t2 * i_t2 * 1) + 1),
	((i/i_t1)) * ((j/j_t1)) * ((k/k_t1)) * (i_t1/i_t2) * (i_t2*k_t1/min(p9, 512/8/4)),
	((i/i_t1)) * ((j/j_t1)) * ((k/k_t1)) * (max((j_t1/j_t2) * (j_t2*k_t1/p10), (k_t1/k_t2) * j_t2 * i_t2 * 1) + 1),
	((i/i_t1)) * ((j/j_t1)) * ((k/k_t1)) * (j_t1/j_t2) * (j_t2*k_t1/min(p10, 512/8/4)),
	((i/i_t1)) * ((j/j_t1)) * ((i_t1/i_t2) * (i_t2*j_t2/p12) + j_t2 * i_t2 * 1),
	((i/i_t1)) * ((j/j_t1)) * (j_t1/j_t2) * (i_t1/i_t2) * (i_t2*j_t2/p12),
	((i/i_t1)) * ((j/j_t1)) * (j_t1/j_t2) * (i_t1/i_t2) * (i_t2*j_t2/min(p12, 512/8/4)),
	((i/i_t1)) * ((j/j_t1)) * ((k/k_t1)) * (k_t1/k_t2) * j_t2 * i_t2 * 1
);

subject to DSP_cst:
	0 <= ((i_t1/i_t2)*(j_t1/j_t2)) * k_t2 * 5 <= dsp_bound;

subject to BRAM_cst:
	0 <= 
	(4*8*p9 / 36) * ((i_t2*k_t1)/p9/512) * 2 * (i_t1/i_t2) + 
	(4*8*p10 / 36) * ((j_t2*k_t1)/p10/512) * 2 * (j_t1/j_t2) + 
	(4*8*p12 / 36) * ((i_t2*j_t2)/p12/512) * 1 * ((j_t1/j_t2)*(i_t1/i_t2)) + 
	(4*8*1 / 36) * ((i_t2*j_t2)/1/512) * 1 * ((i_t1/i_t2)*(j_t1/j_t2))
	<= bram_bound;

subject to const_1:
	i_t1 >= 1;
subject to const_2:
	i_t1 <= i;
subject to const_3:
	j_t1 >= 1;
subject to const_4:
	j_t1 <= j;
subject to const_5:
	k_t1 >= 1;
subject to const_6:
	k_t1 <= k;
subject to const_7:
	i_t2 >= 1;
subject to const_8:
	i_t2 <= i_t1;
subject to const_9:
	j_t2 >= 1;
subject to const_10:
	j_t2 <= j_t1;
subject to const_11:
	k_t2 >= 1;
subject to const_12:
	k_t2 <= min(k_t1,8);
subject to const_13:
	p9 >= k_t2;
subject to const_14:
	p9 <= max(min(k_t1,16),k_t2);
subject to const_15:
	p10 >= k_t2;
subject to const_16:
	p10 <= max(min(k_t1,16),k_t2);
subject to const_17:
	p11 >= 1;
subject to const_18:
	p11 <= max(min(j_t2,4),1);
subject to const_19:
	p12 >= 1;
subject to const_20:
	p12 <= max(min(j_t2,4),1);
subject to latency_hiding:
	i_t2 * j_t2 >= k_t2 * 8;
